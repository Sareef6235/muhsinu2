<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poster Builder | Pro Media Suite</title>

    <!-- Unified Assets -->
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/poster-builder.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        .builder-layout {
            height: calc(100vh - 70px);
            margin-top: 70px;
            display: grid;
            grid-template-columns: 300px 1fr 300px;
        }

        body {
            overflow: hidden;
        }

        #site-breadcrumbs {
            display: none;
        }

        /* Hide breadcrumbs on full-screen builder */
    </style>

    <script type="module">
        import AppState from '../../assets/js/state.js';
        import NavigationSystem from '../../assets/js/navigation.js';

        document.addEventListener('DOMContentLoaded', () => {
            AppState.init();
            NavigationSystem.init(AppState.navigation.menuData);
        });
    </script>
</head>

<body>
    <header id="site-header"></header>

    <main class="builder-layout">
        <aside class="tool-sidebar">
            <div class="sidebar-tabs">
                <button class="tab-btn active" data-tab="templates"><i
                        class="ph-bold ph-layout"></i><span>Templates</span></button>
                <button class="tab-btn" data-tab="elements"><i
                        class="ph-bold ph-shapes"></i><span>Elements</span></button>
                <button class="tab-btn" data-tab="text"><i class="ph-bold ph-text-t"></i><span>Text</span></button>
                <button class="tab-btn" data-tab="images"><i class="ph-bold ph-image"></i><span>Images</span></button>
                <button class="tab-btn" data-tab="layers"><i class="ph-bold ph-stack"></i><span>Layers</span></button>
                <button class="tab-btn" data-tab="animations"><i
                        class="ph-bold ph-magic-wand"></i><span>Animate</span></button>
                <button class="tab-btn" data-tab="bg-remover" style="color: #25D366;"><i
                        class="ph-bold ph-scissors"></i><span>AI cut</span></button>
            </div>
            <div class="tab-content" id="panel-container">
                <div class="panel-section active" id="templates-panel">
                    <div id="template-grid" class="template-grid"></div>
                </div>
            </div>
        </aside>

        <section class="canvas-area">
            <div class="canvas-toolbar">
                <div class="canvas-controls">
                    <button id="undo-btn"><i class="ph-bold ph-arrow-u-up-left"></i></button>
                    <button id="redo-btn"><i class="ph-bold ph-arrow-u-up-right"></i></button>
                    <div class="divider"></div>
                    <button id="zoom-out"><i class="ph-bold ph-minus"></i></button>
                    <div class="zoom-pill"><span id="zoom-level">100%</span></div>
                    <button id="zoom-in"><i class="ph-bold ph-plus"></i></button>
                </div>
            </div>
            <div class="canvas-container" id="canvas-container">
                <div id="poster-canvas" class="poster-canvas">
                    <div class="empty-canvas-state"><i class="ph ph-layout"></i>
                        <p>Select a template to begin</p>
                    </div>
                </div>
            </div>
        </section>

        <aside class="property-panel">
            <div id="empty-properties" class="empty-state"><i class="ph ph-cursor-click"></i>
                <p>Select an element</p>
            </div>
            <div id="active-properties" style="display: none;"></div>
        </aside>
    </main>

    <script src="../../assets/js/utils/performance.js"></script>
    <script src="../../assets/js/poster-templates.js" defer></script>
    <script src="../../assets/js/poster-builder.js" defer></script>
</body>

</html>